<!-- Comment card -->
<div class="card h-100">
    <div class="card-body d-flex flex-column">
        <small class="card-text">
            <%= comment.author?.userName %>, <%= new Date(comment.createdAt).toLocaleDateString() %>
        </small>
        <p class="card-text">
            <%= comment.content.substring(0, 100) %> <%= comment.content.length > 100 ? '...' : '' %>
        </p>
        <small class="card-text flex-grow-1">
            On post: <a href="/posts/<%= comment.post.id %>">
                <%= comment.post.title %>
            </a>
        </small>
    
        <!-- If user is the author of the comment, show delete button -->
        <% if (user?.id && user.id === comment.authorId) { %>
            <div class="mt-2 d-flex gap-2">
                <form action="/posts/<%= comment.post.id %>/comment/<%= comment.id %>?_method=DELETE" method="POST">
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
            </div>
        <% } %>
    </div>
</div>